## Linux文本查找及正则表达式

### 文本查找的需要

+ grep：根据模式搜索文本，并将符合模式的文本显示出来

  ```bash
  -i:忽略字符大小写
  --color:增加着色
  alias grep='grep --color'
  -v:反射匹配
  -o:只显示被模式匹配到的字符串
  -E:使用扩展正则表达式
  -A 2:显示匹配及后面两行
  -B 2:显示匹配及前面两行
  -C 2:显示匹配及前后两行
  ```

+ Pattern：文本字符和正则表达式元字符组成而成的匹配条件

  ```bash
  # 正则表达式（REGEXP）
  # 元数据
  + .：匹配任意单个字符
  + []:匹配指定范围内的字符
  + [^]:匹配指定范围外的字符
  + 字符集：[:digit:]...
  
  # 匹配次数（贪婪模式）
  + *：匹配前面字符任意次
  # .* -匹配任意长度的任意字符
  + \?：匹配前面字符1次或者0次
  + \{m,n}:匹配至少m次，至多n次
  # \{1,\} \{\,3}
  
  # 位置锚定
  + ^:锚定行首，此字符后面的任意字符必须出现在行首
  + $:锚定行尾，此字符后面的任意字符必须出现在行尾
  # ^$:空白行
  + \<或者\b:其后面的任意字符必须作为单词首部出现 
  + \>或者\b:其后面的任意字符必须作为单词尾部出现
  # \<root>\精确匹配单词root
  + \(\):分组 # \(ab\)* ab作为一个整体可以出现任意次数
  ```

  ### 正则表达式

  + 基本正则表达式

    ```bash
    # .
    # []
    # [^]
    ```

  + 扩展正则表达式

    ```bash
    + 字符匹配
    # .
    # []
    # [^]
    + 次数匹配
    # *
    # \?
    # \{m,n\}
    # +：匹配前面的字符至少1次
    # [m,n]：m-n范围内次数
    + 分组
    # （） \1:分组
    # |：or
    egrep=grep -E --以扩展表达式检索
    ```


### sed基本用法

***默认不编辑原文件，仅对模式空间的中数据做处理****

```bash
sed 'AddresssCommand' file ...
# Adresss
# StartLine,Endline 1,100 --$是最后一行
# /RegExp/ /^root/
# /pattern1/,/pattern2/ --第1次匹配pattern1行开始至匹配pattern2结束中间所有行
# LineNumber --指定的行
# StartLine, +N --从StartLine开始后N行
d：删除符合条件的行
P：打印当前行
i \string：在指定行前面添加新行，内容为string
r FILE：将指定文件的内容添加至符合条件行处
w FILE：将指定范围内的内容另存至指定文件处

```

